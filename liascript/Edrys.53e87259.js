var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirea18f;e.register("hCvHz",(function(n,t){var s,i;s=n.exports,i=()=>c,Object.defineProperty(s,"Sync",{get:i,set:undefined,enumerable:!0,configurable:!0});var o=e("bQEo7"),d=e("gjWRH");class c extends o.Sync{subject="liasync";connected=!1;async connect(e){super.connect(e),this.init(!0)}destroy(){this.listener&&window.removeEventListener("message",this.listener),super.destroy()}init(e,n){if(e){this.subject=this.room||"liasync";let e=this;this.listener=function(n){try{let t=n.data;"init"===t.subject?t.body&&(e.connected=!0,e.sendConnect()):t.body&&e.applyUpdate((0,d.decode)(t.body))}catch(e){console.warn("Edrys",e.message)}},window.addEventListener("message",this.listener),this.broadcast(null,"init"),setTimeout((function(){e.connected||e.sendDisconnectError("This seems not to be an Edrys classroom")}),2e3)}}broadcast(e,n){window.parent.postMessage({subject:n||this.subject,body:e?(0,d.encode)(e):null},"*")}}}));
